!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Service=e()}}(function(){return function(){return function e(t,n,s){function i(r,o){if(!n[r]){if(!t[r]){var p="function"==typeof require&&require;if(!o&&p)return p(r,!0);if(a)return a(r,!0);var l=new Error("Cannot find module '"+r+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[r]={exports:{}};t[r][0].call(u.exports,function(e){return i(t[r][1][e]||e)},u,u.exports,e,t,n,s)}return n[r].exports}for(var a="function"==typeof require&&require,r=0;r<s.length;r++)i(s[r]);return i}}()({1:[function(e,t,n){t.exports={manifest:{format:2,name:"demo2",version:"0.0.1",created_at:"2019-07-26T20:24:04.600Z",checksum:"9fd30a4adbef9680eece4baeea96c14d3a26e2cc0b753765955963510b684353"},content:{peripheral_types:[{p_type:"schema_base_class",p_type_parent:null,class_name:"SchemaBaseClass",sensor_types:[]},{p_type:"nodejs_process",p_type_parent:"schema_base_class",class_name:"NodejsProcess",sensor_types:[{s_type:"cpu",s_identities:["0"],fields:[{name:"user",writeable:!1,value:{type:"int",range:[0,4294967296]},unit:"bytes",annotations:{}},{name:"system",writeable:!1,value:{type:"int",range:[0,4294967296]},unit:"bytes",annotations:{}}],actions:[]},{s_type:"memory",s_identities:["0"],fields:[{name:"rss",writeable:!1,value:{type:"int",range:[0,4294967296]},unit:"bytes",annotations:{}},{name:"heapTotal",writeable:!1,value:{type:"int",range:[0,4294967296]},unit:"bytes",annotations:{}},{name:"heapUsed",writeable:!1,value:{type:"int",range:[0,4294967296]},unit:"bytes",annotations:{}},{name:"external",writeable:!1,value:{type:"int",range:[0,4294967296]},unit:"bytes",annotations:{}}],actions:[]},{s_type:"os",s_identities:["current"],fields:[{name:"freeMemory",writeable:!1,value:{type:"int",range:[0,4294967296]},unit:"bytes",annotations:{}},{name:"uptime",writeable:!1,value:{type:"int",range:[0,4294967296]},unit:"seconds",annotations:{}}],actions:[]}]}]}}},{}],2:[function(e,t,n){(function(n){"use strict";var{DBG:s,ERR:i,WARN:a,INFO:r}=global.getLogger(n),{PeripheralService:o,express:p,bodyParser:l}=global.getBundledModules();const{RELATIONSHIP_NONE:u,RELATIONSHIP_CONFIGURED:c,RELATIONSHIP_MANAGED:d}=o.relationships,{MODE_PIPE:f}=o.modes;t.exports=class extends o{constructor(t,n,s){super(t,n,s,e("./schema.json")),this.pid=process.pid.toString(),this.mode=f,this.mode_settings={pipes:[{name:"aaa",byline:!0}]},r(`name => ${this.name}`),r(`types => ${JSON.stringify(this.types)}`),r(`schema => \n${JSON.stringify(this.schema)}`)}init(e){return e()}fini(e){return e()}atRegistered(){r("the peripheral service is registered ...")}atPipeEstablished(e,t){r(`${e}: pipe established => ${JSON.stringify(t)}`),this.emitPeripheralState(this.types[0],this.pid,d,t)}atPipeData(e,t,n=yes){if(n)if(t.startsWith("#"))r(`${e} <= ${t.gray}`);else{r(`${e} <= ${t.gray}`);var s=t.split("\t"),[i,a,o,p,l,u]=s;"sensor-updated"==o&&(a=new Date(parseInt(a)),r(`${e} <- ${i.blue} ${a.toISOString()} ${o.yellow} ${p.cyan} ${l.green} ${u.red}`),u=JSON.parse(u),this.emitData(this.types[0],this.pid,p,l,u))}}performAction(e,t,n,i,a,r,o,p,l){return s(`got actuator-request: ${e}/${t}/${n}/${i}/${a} => ${r}, ${o}, ${p}`),l()}}}).call(this,e("path").join(__dirname,"src","index.js"))},{"./schema.json":1,path:void 0}]},{},[2])(2)});